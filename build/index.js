(()=>{"use strict";var e,t={574:()=>{const e=window.React,t=window.wp.blocks,{__}=wp.i18n,{BlockControls:n}=wp.blockEditor,{ToolbarButton:l}=wp.components,o=t=>{const{attributes:o}=t,{url:r}=o;return(0,e.createElement)(n,{group:"other"},(0,e.createElement)(l,{className:"tm-components-toolbar-button",icon:()=>(0,e.createElement)("svg",{width:"23",height:"26",viewBox:"0 0 23 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.863 5.443c-1.54-1.469-3.592-2.229-5.688-2.229-2.097 0-4.149.76-5.688 2.229-3.03 2.888-3.03 7.52 0 10.408l5.688 5.422 5.688-5.422c3.03-2.889 3.03-7.52 0-10.408zm-5.688 20.271-7.906-7.537c-4.359-4.155-4.359-10.906 0-15.06C5.448 1.038 8.31 0 11.175 0c2.863 0 5.727 1.039 7.906 3.116 4.358 4.155 4.358 10.906 0 15.061l-7.906 7.537z",fill:"#2C4EFF"}),(0,e.createElement)("path",{d:"M11.294 7.692c.745 0 1.386.268 1.922.805s.805 1.178.805 1.923c0 1.133-.358 2.177-1.073 3.13-.686.955-1.594 1.745-2.727 2.37l-.849-.715c.298-.238.566-.566.805-.984.238-.417.402-.82.491-1.207a2.706 2.706 0 0 1-1.52-.94 2.548 2.548 0 0 1-.58-1.654c0-.745.268-1.386.804-1.923.536-.537 1.177-.805 1.922-.805z",fill:"#2C4EFF"})),label:__("Generate a map"),text:__("Generate a map"),onClick:()=>{var e,t=document.createElement("form");t.target="_blank",t.method="POST",t.action=r,""!=window.getSelection().toString()&&((e=document.createElement("input")).type="hidden",e.name="token",e.value="89e53f2d169fd1f8fdee4b2cb3ef74f4",t.appendChild(e),(e=document.createElement("input")).type="hidden",e.name="mapText",e.value=JSON.stringify(window.getSelection().toString()),t.appendChild(e)),document.body.appendChild(t),t.submit(),document.body.removeChild(t);var n=wp.blocks.createBlock("textomap/embed-map");wp.data.dispatch("core/block-editor").insertBlocks(n)}}))},r=window.wp.i18n,a=window.wp.element,c=window.wp.blockEditor,i=window.wp.components,s=window.wp.compose,m=window.wp.data;function d({content:t,isSelected:n}){const l=(0,m.useSelect)((e=>e(c.store).getSettings().styles)),o=(0,a.useMemo)((()=>["\n\thtml,body,:root {\n\t\tmargin: 0 !important;\n\t\tpadding: 0 !important;\n\t\toverflow: visible !important;\n\t\tmin-height: auto !important;\n\t}\n",...(0,c.transformStyles)(l.filter((e=>e.css)))]),[l]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SandBox,{html:t,styles:o,title:(0,r.__)("Custom HTML Preview"),tabIndex:-1}),!n&&(0,e.createElement)("div",{className:"block-library-html__preview-overlay"}))}const p=JSON.parse('{"u2":"textomap/embed-map"}'),u=(0,e.createElement)("svg",{width:"23",height:"26",viewBox:"0 0 23 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.863 5.443c-1.54-1.469-3.592-2.229-5.688-2.229-2.097 0-4.149.76-5.688 2.229-3.03 2.888-3.03 7.52 0 10.408l5.688 5.422 5.688-5.422c3.03-2.889 3.03-7.52 0-10.408zm-5.688 20.271-7.906-7.537c-4.359-4.155-4.359-10.906 0-15.06C5.448 1.038 8.31 0 11.175 0c2.863 0 5.727 1.039 7.906 3.116 4.358 4.155 4.358 10.906 0 15.061l-7.906 7.537z",fill:"#2C4EFF"}),(0,e.createElement)("path",{d:"M11.294 7.692c.745 0 1.386.268 1.922.805s.805 1.178.805 1.923c0 1.133-.358 2.177-1.073 3.13-.686.955-1.594 1.745-2.727 2.37l-.849-.715c.298-.238.566-.566.805-.984.238-.417.402-.82.491-1.207a2.706 2.706 0 0 1-1.52-.94 2.548 2.548 0 0 1-.58-1.654c0-.745.268-1.386.804-1.923.536-.537 1.177-.805 1.922-.805z",fill:"#2C4EFF"}));(0,t.registerBlockType)(p.u2,{icon:u,edit:function t({attributes:n,setAttributes:l,isSelected:o}){const[m,p]=(0,a.useState)(),u=(0,a.useContext)(i.Disabled.Context),w=(0,s.useInstanceId)(t,"html-edit-desc"),b=(0,c.useBlockProps)({className:"block-library-html__edit","aria-describedby":m?w:void 0});return n.preview?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{className:"tm-preview-cover",src:n.url+"style/images-p/textomap.jpg"})):(0,e.createElement)("div",{...b},(0,e.createElement)(c.BlockControls,null,(0,e.createElement)(i.ToolbarGroup,null,(0,e.createElement)(i.ToolbarButton,{className:"components-tab-button",isPressed:!m,onClick:function(){p(!1)}},"HTML"),(0,e.createElement)(i.ToolbarButton,{disabled:""==n.content||null==n.content,className:"components-tab-button",isPressed:m,onClick:function(){p(!0)}},(0,r.__)("Map")))),m||u?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",null,(0,e.createElement)(d,{content:n.content,isSelected:o})),(0,e.createElement)(i.VisuallyHidden,{id:w},(0,r.__)("HTML preview is not yet fully accessible. Please switch screen reader to virtualized mode to navigate the below iFrame."))):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"tm-block-editor-plain-text-wrapper"},(0,e.createElement)(c.PlainText,{className:"tm-block-editor-plain-text",value:n.content,onChange:e=>l({content:e}),placeholder:(0,r.__)("Paste the embed code of the map..."),"aria-label":(0,r.__)("HTML")}),(0,e.createElement)("a",{href:n.url+"help-center/wordpress/",class:"tm-link",target:"_blank"},(0,r.__)("☝️ Need support embedding your maps? visit our ")," ",(0,e.createElement)("u",null,(0,r.__)("Help Center"))))))},save:function({attributes:t}){return(0,e.createElement)("div",null,(0,e.createElement)(a.RawHTML,null,t.content))}});const{createHigherOrderComponent:w}=wp.compose,{Fragment:b}=wp.element,h=["core/paragraph"];wp.hooks.addFilter("blocks.registerBlockType",p.u2,(function(e){return void 0!==e.attributes&&h.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{url:{type:"string",default:"https://www.textomap.com/"}})),e}));const v=w((t=>n=>{const{name:l}=n;return h.includes(l)?(0,e.createElement)(b,null,(0,e.createElement)(o,{...n}),(0,e.createElement)(t,{...n})):(0,e.createElement)(t,{...n})}),"addBlockControls");wp.hooks.addFilter("editor.BlockEdit",p.u2,v)}},n={};function l(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,n,o,r)=>{if(!n){var a=1/0;for(m=0;m<e.length;m++){for(var[n,o,r]=e[m],c=!0,i=0;i<n.length;i++)(!1&r||a>=r)&&Object.keys(l.O).every((e=>l.O[e](n[i])))?n.splice(i--,1):(c=!1,r<a&&(a=r));if(c){e.splice(m--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[n,o,r]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[a,c,i]=n,s=0;if(a.some((t=>0!==e[t]))){for(o in c)l.o(c,o)&&(l.m[o]=c[o]);if(i)var m=i(l)}for(t&&t(n);s<a.length;s++)r=a[s],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(m)},n=globalThis.webpackChunktextomap=globalThis.webpackChunktextomap||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=l.O(void 0,[431],(()=>l(574)));o=l.O(o)})();